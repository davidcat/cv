name: Deploy Resume to GitHub Pages

on:
  push:
    branches: [ main, master ]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Setup Pages
      uses: actions/configure-pages@v4

    - name: Build HTML Resume
      run: |
        echo '<!DOCTYPE html>' > index.html
        echo '<html lang="zh-CN">' >> index.html
        echo '<head>' >> index.html
        echo '<meta charset="UTF-8">' >> index.html
        echo '<meta name="viewport" content="width=device-width, initial-scale=1.0">' >> index.html
        echo '<title>å¼ ä¸‰ - iOS å¼€å‘å·¥ç¨‹å¸ˆç®€å†</title>' >> index.html
        echo '<link rel="stylesheet" href="style.css">' >> index.html
        echo '</head>' >> index.html
        echo '<body>' >> index.html
        echo '<div class="container">' >> index.html
        echo '<header>' >> index.html
        echo '<h1>æ•…çŸ¥</h1>' >> index.html
        echo '<div class="contact-info">' >> index.html
        echo '<p>ğŸ“± 15214363830 | âœ‰ï¸ shawn2045@qq.com | ğŸ“ æ·±åœ³å¸‚</p>' >> index.html
        echo '<p><a href="https://linkedin.com/in/guzhi">LinkedIn</a> | <a href="https://github.com/guzhi">GitHub</a></p>' >> index.html
        echo '</div>' >> index.html
        echo '</header>' >> index.html
        echo '<section class="summary">' >> index.html
        echo '<h2>ğŸ¯ ä¸ªäººç®€ä»‹</h2>' >> index.html
        echo '<p>èµ„æ·± iOS å¼€å‘å·¥ç¨‹å¸ˆï¼Œå…·æœ‰ 10 å¹´ç§»åŠ¨åº”ç”¨å¼€å‘ç»éªŒã€‚ç²¾é€š Objective-C å’Œ Swift ç¼–ç¨‹ï¼Œç†Ÿæ‚‰ä¸»æµå¼€æºæ¡†æ¶ã€‚æ‹¥æœ‰é‡‘èä¿é™©ã€å·¥ä¸šäº’è”ç½‘é¢†åŸŸå·¥ä½œç»å†ï¼ŒåŒæ—¶æŒæ¡ HarmonyOS å¼€å‘ã€‚</p>' >> index.html
        echo '</section>' >> index.html
        echo '<section class="experience">' >> index.html
        echo '<h2>ğŸ’¼ å·¥ä½œç»å†</h2>' >> index.html
        echo '<div class="job">' >> index.html
        echo '<h3>é«˜çº§ iOS å·¥ç¨‹å¸ˆ | æ·±åœ³å¸‚æ–°æºæ¶¦äº§å“ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸</h3>' >> index.html
        echo '<p class="date">2023å¹´2æœˆ - è‡³ä»Š | æ·±åœ³</p>' >> index.html
        echo '<ul><li>è´Ÿè´£å…¬å¸ iOS åº”ç”¨å¼€å‘å’Œç»´æŠ¤å·¥ä½œ</li><li>å‚ä¸é¡¹ç›®éœ€æ±‚è¯„å®¡å’Œä»£ç  review</li></ul>' >> index.html
        echo '</div>' >> index.html
        echo '<div class="job">' >> index.html
        echo '<h3>iOS å¼€å‘å·¥ç¨‹å¸ˆ | å¤©ç‘é›†å›¢</h3>' >> index.html
        echo '<p class="date">2020å¹´1æœˆ - 2023å¹´1æœˆ | æ·±åœ³</p>' >> index.html
        echo '<ul><li>ä¸»å¯¼å·¥ä¸šäº’è”ç½‘é¡¹ç›®å¼€å‘</li><li><strong>ä¸šç»©ï¼š</strong>é¡¹ç›®å…¥é€‰å·¥ä¿¡éƒ¨2022å¹´å·¥ä¸šäº’è”ç½‘è¯•ç‚¹ç¤ºèŒƒé¡¹ç›®</li></ul>' >> index.html
        echo '</div>' >> index.html
        echo '</section>' >> index.html
        echo '<section class="skills">' >> index.html
        echo '<h2>ğŸ› ï¸ æŠ€æœ¯æ ˆ</h2>' >> index.html
        echo '<div class="skill-tags">' >> index.html
        echo '<span class="tag">Objective-C</span><span class="tag">Swift</span><span class="tag">HarmonyOS</span>' >> index.html
        echo '<span class="tag">AFNetworking</span><span class="tag">Alamofire</span><span class="tag">SnapKit</span>' >> index.html
        echo '<span class="tag">SDWebImage</span><span class="tag">Masonry</span><span class="tag">Kingfisher</span>' >> index.html
        echo '</div>' >> index.html
        echo '</section>' >> index.html
        echo '</div>' >> index.html
        echo '</body>' >> index.html
        echo '</html>' >> index.html

    - name: Upload Pages artifact
      uses: actions/upload-pages-artifact@v3
      with:
        path: '.'

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
    - name: Deploy to GitHub Pages
      id: deployment
      uses: actions/deploy-pages@v4
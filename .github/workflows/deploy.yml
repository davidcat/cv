name: Deploy Resume to GitHub Pages

on:
  push:
    branches: [ main, master ]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Setup Pages
      uses: actions/configure-pages@v4

    - name: Build HTML Resume
      run: |
        cat > index.html << 'EOF'
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼ ä¸‰ - iOS å¼€å‘å·¥ç¨‹å¸ˆç®€å†</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>å¼ ä¸‰</h1>
            <div class="contact-info">
                <p>ğŸ“± 138-8888-8888 | âœ‰ï¸ zhangsan@email.com | ğŸ“ åŒ—äº¬å¸‚</p>
                <p>
                    <a href="https://linkedin.com/in/zhangsan">LinkedIn</a> |
                    <a href="https://github.com/zhangsan">GitHub</a> |
                    <a href="https://apps.apple.com/developer/zhangsan">App Store</a>
                </p>
            </div>
        </header>

        <section class="summary">
            <h2>ğŸ¯ ä¸ªäººç®€ä»‹</h2>
            <p>èµ„æ·± iOS å¼€å‘å·¥ç¨‹å¸ˆï¼Œå…·æœ‰ 6 å¹´ç§»åŠ¨åº”ç”¨å¼€å‘ç»éªŒã€‚ç²¾é€š Swift å’Œ Objective-Cï¼Œä¸»å¯¼å¼€å‘è¿‡å¤šæ¬¾ä¸‹è½½é‡è¶…ç™¾ä¸‡çš„åº”ç”¨ã€‚</p>
        </section>

        <section class="experience">
            <h2>ğŸ’¼ å·¥ä½œç»å†</h2>
            <div class="job">
                <h3>é«˜çº§ iOS å·¥ç¨‹å¸ˆ | ç§»åŠ¨äº’è”ç½‘ç§‘æŠ€å…¬å¸</h3>
                <p class="date">2021å¹´3æœˆ - è‡³ä»Š | åŒ—äº¬</p>
                <ul>
                    <li>ä¸»å¯¼å…¬å¸æ ¸å¿ƒäº§å“ iOS åº”ç”¨å¼€å‘ï¼Œä½¿ç”¨ Swift å’Œ SwiftUI æ„å»ºç°ä»£åŒ–ç”¨æˆ·ç•Œé¢</li>
                    <li>ä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼Œå¯åŠ¨æ—¶é—´å‡å°‘ 70%ï¼Œå†…å­˜ä½¿ç”¨é™ä½ 40%</li>
                </ul>
            </div>
        </section>

        <section class="skills">
            <h2>ğŸ› ï¸ æŠ€æœ¯æ ˆ</h2>
            <div class="skill-tags">
                <span class="tag">Swift</span>
                <span class="tag">SwiftUI</span>
                <span class="tag">UIKit</span>
                <span class="tag">Combine</span>
                <span class="tag">Core Data</span>
            </div>
        </section>
    </div>
</body>
</html>
EOF

    - name: Upload Pages artifact
      uses: actions/upload-pages-artifact@v3
      with:
        path: '.'

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
    - name: Deploy to GitHub Pages
      id: deployment
      uses: actions/deploy-pages@v4